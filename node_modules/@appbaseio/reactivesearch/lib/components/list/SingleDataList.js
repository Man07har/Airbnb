'use strict';

exports.__esModule = true;

var _styledBase = require('@emotion/styled-base');

var _styledBase2 = _interopRequireDefault(_styledBase);

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('@appbaseio/reactivecore/lib/actions');

var _hoistNonReactStatics = require('hoist-non-react-statics');

var _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);

var _helper = require('@appbaseio/reactivecore/lib/utils/helper');

var _suggestions = require('@appbaseio/reactivecore/lib/utils/suggestions');

var _transform = require('@appbaseio/reactivecore/lib/utils/transform');

var _constants = require('@appbaseio/reactivecore/lib/utils/constants');

var _types = require('@appbaseio/reactivecore/lib/utils/types');

var _types2 = _interopRequireDefault(_types);

var _Title = require('../../styles/Title');

var _Title2 = _interopRequireDefault(_Title);

var _Input = require('../../styles/Input');

var _Input2 = _interopRequireDefault(_Input);

var _Container = require('../../styles/Container');

var _Container2 = _interopRequireDefault(_Container);

var _FormControlList = require('../../styles/FormControlList');

var _utils = require('../../utils');

var _PreferencesConsumer = require('../basic/PreferencesConsumer');

var _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);

var _ComponentWrapper = require('../basic/ComponentWrapper');

var _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _EMOTION_STRINGIFIED_CSS_ERROR__() { return 'You have tried to stringify object returned from `css` function. It isn\'t supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).'; }

var SingleDataListUL = ( /*#__PURE__*/0, _styledBase2.default)(_FormControlList.UL, {
	target: 'e3rkxte0',
	label: 'SingleDataListUL'
})('display:', function (_ref) {
	var displayAsVertical = _ref.displayAsVertical;
	return displayAsVertical ? 'block' : 'flex';
}, ';white-space:nowrap;' + (process.env.NODE_ENV === 'production' ? '' : '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0NtQyIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuXG5jb25zdCBTaW5nbGVEYXRhTGlzdFVMID0gc3R5bGVkKFVMKWBcblx0ZGlzcGxheTogJHsoeyBkaXNwbGF5QXNWZXJ0aWNhbCB9KSA9PiAoZGlzcGxheUFzVmVydGljYWwgPyAnYmxvY2snIDogJ2ZsZXgnKX07XG5cdHdoaXRlLXNwYWNlOm5vd3JhcDtcbmA7XG5cbmNvbnN0IFNwYW4gPSBzdHlsZWQuc3BhbmBcblx0d2lkdGg6IGF1dG8gIWltcG9ydGFudDtcbmA7XG5jb25zdCBMYWJlbCA9IHN0eWxlZC5sYWJlbGBcblx0OjpiZWZvcmV7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRjb25zdCB7IGVuYWJsZUFwcGJhc2UsIGluZGV4IH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICghZW5hYmxlQXBwYmFzZSAmJiBpbmRleCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHQnV2FybmluZyhSZWFjdGl2ZVNlYXJjaCk6IEluIG9yZGVyIHRvIHVzZSB0aGUgYGluZGV4YCBwcm9wLCB0aGUgYGVuYWJsZUFwcGJhc2VgIHByb3AgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBpbiBgUmVhY3RpdmVCYXNlYC4nLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJ10sICgpID0+IHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93Q291bnQpIHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjaGVja1Byb3BDaGFuZ2UodGhpcy5wcm9wcy5kYXRhLCBwcmV2UHJvcHMuZGF0YSwgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucywgcHJldlByb3BzLm9wdGlvbnMsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdKSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGVPcHRpb25zKHRoaXMucHJvcHMub3B0aW9uc1t0aGlzLnByb3BzLmRhdGFGaWVsZF0uYnVja2V0cyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBUcmVhdCBkZWZhdWx0UXVlcnkgYW5kIGN1c3RvbVF1ZXJ5IGFzIHJlYWN0aXZlIHByb3BzXG5cdFx0aWYgKCFpc1F1ZXJ5SWRlbnRpY2FsKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzLCBwcmV2UHJvcHMsICdkZWZhdWx0UXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVEZWZhdWx0UXVlcnkoKTtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkoJycsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnY3VzdG9tUXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVRdWVyeSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucHJvcHMudmFsdWUgIT09IHByZXZQcm9wcy52YWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdFx0JiYgdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlICE9PSBwcmV2UHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHRoaXMucHJvcHM7XG5cdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2UgaWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRcdG9uQ2hhbmdlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgZGVmYXVsdFF1ZXJ5ID0gKHZhbHVlLCBwcm9wcykgPT4ge1xuXHRcdGxldCBxdWVyeSA9IG51bGw7XG5cdFx0aWYgKHByb3BzLnNlbGVjdEFsbExhYmVsICYmIHByb3BzLnNlbGVjdEFsbExhYmVsID09PSB2YWx1ZSkge1xuXHRcdFx0cXVlcnkgPSB7XG5cdFx0XHRcdGV4aXN0czoge1xuXHRcdFx0XHRcdGZpZWxkOiBwcm9wcy5kYXRhRmllbGQsXG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAodmFsdWUpIHtcblx0XHRcdHF1ZXJ5ID0ge1xuXHRcdFx0XHR0ZXJtOiB7XG5cdFx0XHRcdFx0W3Byb3BzLmRhdGFGaWVsZF06IHZhbHVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAocXVlcnkgJiYgcHJvcHMubmVzdGVkRmllbGQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5lc3RlZDoge1xuXHRcdFx0XHRcdHBhdGg6IHByb3BzLm5lc3RlZEZpZWxkLFxuXHRcdFx0XHRcdHF1ZXJ5LFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcXVlcnk7XG5cdH07XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH1cblx0XHRsZXQgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHQoeyBxdWVyeSB9ID0gY3VzdG9tUXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcykgfHwge30pO1xuXHRcdFx0Y3VzdG9tUXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShjdXN0b21RdWVyeShjdXJyZW50VmFsdWUsIHByb3BzKSk7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cdFx0XHRjb25zdCBuZXdPcHRpb25zID0gb3B0aW9ucy5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKGJ1Y2tldERpY3Rpb25hcnlbaXRlbS52YWx1ZV0pIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0Li4uaXRlbSxcblx0XHRcdFx0XHRcdGNvdW50OiBidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gaXRlbTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0b3B0aW9uczogbmV3T3B0aW9ucyxcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHRoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XG5cdFx0Y29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRzZWFyY2hUZXJtOiB2YWx1ZSxcblx0XHR9KTtcblx0fTtcblxuXHRyZW5kZXJTZWFyY2ggPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PElucHV0XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnaW5wdXQnKSB8fCBudWxsfVxuXHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlfVxuXHRcdFx0XHRcdHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFRlcm19XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdG1hcmdpbjogJzAgMCA4cHgnLFxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tc2VhcmNoYH1cblx0XHRcdFx0XHR0aGVtZVByZXNldD17dGhpcy5wcm9wcy50aGVtZVByZXNldH1cblx0XHRcdFx0Lz5cblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdGhhbmRsZUNsaWNrID0gKGUpID0+IHtcblx0XHRsZXQgY3VycmVudFZhbHVlID0gZTtcblx0XHRpZiAoaXNFdmVudChlKSkge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cdFx0fVxuXHRcdGNvbnN0IHsgZW5hYmxlU3RyaWN0U2VsZWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmIChlbmFibGVTdHJpY3RTZWxlY3Rpb24gJiYgY3VycmVudFZhbHVlID09PSB0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRjb25zdCB7IHZhbHVlLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob25DaGFuZ2UpIHtcblx0XHRcdG9uQ2hhbmdlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdGdldENvbXBvbmVudCgpIHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHRjb25zdCBkYXRhID0ge1xuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSxcblx0XHRcdGRhdGE6IHRoaXMubGlzdEl0ZW1zLFxuXHRcdFx0aGFuZGxlQ2hhbmdlOiB0aGlzLmhhbmRsZUNsaWNrLFxuXHRcdFx0cmF3RGF0YTogdGhpcy5wcm9wcy5yYXdEYXRhLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdldENvbXBvbmVudChkYXRhLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGdldCBoYXNDdXN0b21SZW5kZXJlcigpIHtcblx0XHRyZXR1cm4gaGFzQ3VzdG9tUmVuZGVyZXIodGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgbGlzdEl0ZW1zKCkge1xuXHRcdGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IG9wdGlvbnMuZmlsdGVyKChpdGVtKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoICYmIHRoaXMuc3RhdGUuc2VhcmNoVGVybSkge1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZURpYWNyaXRpY3MoaXRlbS5sYWJlbClcblx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHRcdC5pbmNsdWRlcyhyZXBsYWNlRGlhY3JpdGljcyh0aGlzLnN0YXRlLnNlYXJjaFRlcm0pLnRvTG93ZXJDYXNlKCkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGxpc3RJdGVtcztcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCB7IHNlbGVjdEFsbExhYmVsLCBzaG93Q291bnQsIHJlbmRlckl0ZW0gfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdHtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdHtsaXN0SXRlbXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdD8gbGlzdEl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlzQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBpdGVtLmxhYmVsO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGlcblx0XHRcdFx0XHRcdFx0XHRcdFx0a2V5PXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hlY2tlZCA/ICdhY3RpdmUnIDogJydcblx0XHRcdFx0XHRcdFx0XHRcdFx0fWB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJvbGU9XCJyYWRpb1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8UmFkaW9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWJJbmRleD17aXNDaGVja2VkID8gJy0xJyA6ICcwJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlYWRPbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNob3c9e3RoaXMucHJvcHMuc2hvd1JhZGlvfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xhYmVsJykgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRodG1sRm9yPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtyZW5kZXJJdGVtID8gKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVuZGVySXRlbShpdGVtLmxhYmVsLCBpdGVtLmNvdW50LCBpc0NoZWNrZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3Nob3dDb3VudCAmJiBpdGVtLmNvdW50ICYmIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvcHMuaW5uZXJDbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnY291bnQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIHx8IG51bGxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCZuYnNwOyh7aXRlbS5jb3VudH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH0pIC8vIHByZXR0aWVyLWlnbm9yZVxuXHRcdFx0XHRcdFx0XHQ6IHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzICYmIHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzKCl9XG5cdFx0XHRcdFx0PC9TaW5nbGVEYXRhTGlzdFVMPlxuXHRcdFx0XHQpfVxuXHRcdFx0PC9Db250YWluZXI+XG5cdFx0KTtcblx0fVxufVxuXG5TaW5nbGVEYXRhTGlzdC5wcm9wVHlwZXMgPSB7XG5cdHNldFF1ZXJ5T3B0aW9uczogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXHR1cGRhdGVRdWVyeTogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdGVuYWJsZUFwcGJhc2U6IHR5cGVzLmJvb2wsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG59O1xuXG5TaW5nbGVEYXRhTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG5cdGNsYXNzTmFtZTogbnVsbCxcblx0cGxhY2Vob2xkZXI6ICdTZWFyY2gnLFxuXHRzaG93RmlsdGVyOiB0cnVlLFxuXHRzaG93UmFkaW86IHRydWUsXG5cdHNob3dTZWFyY2g6IHRydWUsXG5cdHN0eWxlOiB7fSxcblx0VVJMUGFyYW1zOiBmYWxzZSxcblx0c2hvd0NvdW50OiBmYWxzZSxcblx0ZW5hYmxlU3RyaWN0U2VsZWN0aW9uOiBmYWxzZSxcblx0ZGlzcGxheUFzVmVydGljYWw6IHRydWUsXG59O1xuXG4vLyBBZGQgY29tcG9uZW50VHlwZSBmb3IgU1NSXG5TaW5nbGVEYXRhTGlzdC5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZXMuc2luZ2xlRGF0YUxpc3Q7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgcHJvcHMpID0+ICh7XG5cdHJhd0RhdGE6IHN0YXRlLnJhd0RhdGFbcHJvcHMuY29tcG9uZW50SWRdLFxuXHRzZWxlY3RlZFZhbHVlOlxuXHRcdChzdGF0ZS5zZWxlY3RlZFZhbHVlc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdCYmIHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXS52YWx1ZSlcblx0XHR8fCBudWxsLFxuXHR0aGVtZVByZXNldDogc3RhdGUuY29uZmlnLnRoZW1lUHJlc2V0LFxuXHRvcHRpb25zOlxuXHRcdHByb3BzLm5lc3RlZEZpZWxkICYmIHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdD8gc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXS5yZWFjdGl2ZXNlYXJjaF9uZXN0ZWRcblx0XHRcdDogc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXSxcblx0ZW5hYmxlQXBwYmFzZTogc3RhdGUuY29uZmlnLmVuYWJsZUFwcGJhc2UsXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cblx0dXBkYXRlUXVlcnk6IHVwZGF0ZVF1ZXJ5T2JqZWN0ID0+IGRpc3BhdGNoKHVwZGF0ZVF1ZXJ5KHVwZGF0ZVF1ZXJ5T2JqZWN0KSksXG5cblx0c2V0UXVlcnlPcHRpb25zOiAoLi4uYXJncykgPT4gZGlzcGF0Y2goc2V0UXVlcnlPcHRpb25zKC4uLmFyZ3MpKSxcbn0pO1xuXG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0eygpID0+IDxDb25uZWN0ZWRDb21wb25lbnQgey4uLnByZWZlcmVuY2VQcm9wc30gbXlGb3J3YXJkZWRSZWY9e3JlZn0gLz59XG5cdFx0XHQ8L0NvbXBvbmVudFdyYXBwZXI+XG5cdFx0KX1cblx0PC9QcmVmZXJlbmNlc0NvbnN1bWVyPlxuKSk7XG5ob2lzdE5vblJlYWN0U3RhdGljcyhGb3J3YXJkUmVmQ29tcG9uZW50LCBTaW5nbGVEYXRhTGlzdCk7XG5cbkZvcndhcmRSZWZDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnU2luZ2xlRGF0YUxpc3QnO1xuZXhwb3J0IGRlZmF1bHQgRm9yd2FyZFJlZkNvbXBvbmVudDtcbiJdfQ== */'));

var Span = (0, _styledBase2.default)('span', {
	target: 'e3rkxte1',
	label: 'Span'
})(process.env.NODE_ENV === 'production' ? {
	name: 'dhunkn',
	styles: 'width:auto !important;'
} : {
	name: 'dhunkn',
	styles: 'width:auto !important;',
	map: '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkN3QiIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuXG5jb25zdCBTaW5nbGVEYXRhTGlzdFVMID0gc3R5bGVkKFVMKWBcblx0ZGlzcGxheTogJHsoeyBkaXNwbGF5QXNWZXJ0aWNhbCB9KSA9PiAoZGlzcGxheUFzVmVydGljYWwgPyAnYmxvY2snIDogJ2ZsZXgnKX07XG5cdHdoaXRlLXNwYWNlOm5vd3JhcDtcbmA7XG5cbmNvbnN0IFNwYW4gPSBzdHlsZWQuc3BhbmBcblx0d2lkdGg6IGF1dG8gIWltcG9ydGFudDtcbmA7XG5jb25zdCBMYWJlbCA9IHN0eWxlZC5sYWJlbGBcblx0OjpiZWZvcmV7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRjb25zdCB7IGVuYWJsZUFwcGJhc2UsIGluZGV4IH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICghZW5hYmxlQXBwYmFzZSAmJiBpbmRleCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHQnV2FybmluZyhSZWFjdGl2ZVNlYXJjaCk6IEluIG9yZGVyIHRvIHVzZSB0aGUgYGluZGV4YCBwcm9wLCB0aGUgYGVuYWJsZUFwcGJhc2VgIHByb3AgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBpbiBgUmVhY3RpdmVCYXNlYC4nLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJ10sICgpID0+IHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93Q291bnQpIHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjaGVja1Byb3BDaGFuZ2UodGhpcy5wcm9wcy5kYXRhLCBwcmV2UHJvcHMuZGF0YSwgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucywgcHJldlByb3BzLm9wdGlvbnMsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdKSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGVPcHRpb25zKHRoaXMucHJvcHMub3B0aW9uc1t0aGlzLnByb3BzLmRhdGFGaWVsZF0uYnVja2V0cyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBUcmVhdCBkZWZhdWx0UXVlcnkgYW5kIGN1c3RvbVF1ZXJ5IGFzIHJlYWN0aXZlIHByb3BzXG5cdFx0aWYgKCFpc1F1ZXJ5SWRlbnRpY2FsKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzLCBwcmV2UHJvcHMsICdkZWZhdWx0UXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVEZWZhdWx0UXVlcnkoKTtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkoJycsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnY3VzdG9tUXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVRdWVyeSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucHJvcHMudmFsdWUgIT09IHByZXZQcm9wcy52YWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdFx0JiYgdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlICE9PSBwcmV2UHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHRoaXMucHJvcHM7XG5cdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2UgaWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRcdG9uQ2hhbmdlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgZGVmYXVsdFF1ZXJ5ID0gKHZhbHVlLCBwcm9wcykgPT4ge1xuXHRcdGxldCBxdWVyeSA9IG51bGw7XG5cdFx0aWYgKHByb3BzLnNlbGVjdEFsbExhYmVsICYmIHByb3BzLnNlbGVjdEFsbExhYmVsID09PSB2YWx1ZSkge1xuXHRcdFx0cXVlcnkgPSB7XG5cdFx0XHRcdGV4aXN0czoge1xuXHRcdFx0XHRcdGZpZWxkOiBwcm9wcy5kYXRhRmllbGQsXG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAodmFsdWUpIHtcblx0XHRcdHF1ZXJ5ID0ge1xuXHRcdFx0XHR0ZXJtOiB7XG5cdFx0XHRcdFx0W3Byb3BzLmRhdGFGaWVsZF06IHZhbHVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAocXVlcnkgJiYgcHJvcHMubmVzdGVkRmllbGQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5lc3RlZDoge1xuXHRcdFx0XHRcdHBhdGg6IHByb3BzLm5lc3RlZEZpZWxkLFxuXHRcdFx0XHRcdHF1ZXJ5LFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcXVlcnk7XG5cdH07XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH1cblx0XHRsZXQgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHQoeyBxdWVyeSB9ID0gY3VzdG9tUXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcykgfHwge30pO1xuXHRcdFx0Y3VzdG9tUXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShjdXN0b21RdWVyeShjdXJyZW50VmFsdWUsIHByb3BzKSk7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cdFx0XHRjb25zdCBuZXdPcHRpb25zID0gb3B0aW9ucy5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKGJ1Y2tldERpY3Rpb25hcnlbaXRlbS52YWx1ZV0pIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0Li4uaXRlbSxcblx0XHRcdFx0XHRcdGNvdW50OiBidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gaXRlbTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0b3B0aW9uczogbmV3T3B0aW9ucyxcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHRoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XG5cdFx0Y29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRzZWFyY2hUZXJtOiB2YWx1ZSxcblx0XHR9KTtcblx0fTtcblxuXHRyZW5kZXJTZWFyY2ggPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PElucHV0XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnaW5wdXQnKSB8fCBudWxsfVxuXHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlfVxuXHRcdFx0XHRcdHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFRlcm19XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdG1hcmdpbjogJzAgMCA4cHgnLFxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tc2VhcmNoYH1cblx0XHRcdFx0XHR0aGVtZVByZXNldD17dGhpcy5wcm9wcy50aGVtZVByZXNldH1cblx0XHRcdFx0Lz5cblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdGhhbmRsZUNsaWNrID0gKGUpID0+IHtcblx0XHRsZXQgY3VycmVudFZhbHVlID0gZTtcblx0XHRpZiAoaXNFdmVudChlKSkge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cdFx0fVxuXHRcdGNvbnN0IHsgZW5hYmxlU3RyaWN0U2VsZWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmIChlbmFibGVTdHJpY3RTZWxlY3Rpb24gJiYgY3VycmVudFZhbHVlID09PSB0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRjb25zdCB7IHZhbHVlLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob25DaGFuZ2UpIHtcblx0XHRcdG9uQ2hhbmdlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdGdldENvbXBvbmVudCgpIHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHRjb25zdCBkYXRhID0ge1xuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSxcblx0XHRcdGRhdGE6IHRoaXMubGlzdEl0ZW1zLFxuXHRcdFx0aGFuZGxlQ2hhbmdlOiB0aGlzLmhhbmRsZUNsaWNrLFxuXHRcdFx0cmF3RGF0YTogdGhpcy5wcm9wcy5yYXdEYXRhLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdldENvbXBvbmVudChkYXRhLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGdldCBoYXNDdXN0b21SZW5kZXJlcigpIHtcblx0XHRyZXR1cm4gaGFzQ3VzdG9tUmVuZGVyZXIodGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgbGlzdEl0ZW1zKCkge1xuXHRcdGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IG9wdGlvbnMuZmlsdGVyKChpdGVtKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoICYmIHRoaXMuc3RhdGUuc2VhcmNoVGVybSkge1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZURpYWNyaXRpY3MoaXRlbS5sYWJlbClcblx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHRcdC5pbmNsdWRlcyhyZXBsYWNlRGlhY3JpdGljcyh0aGlzLnN0YXRlLnNlYXJjaFRlcm0pLnRvTG93ZXJDYXNlKCkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGxpc3RJdGVtcztcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCB7IHNlbGVjdEFsbExhYmVsLCBzaG93Q291bnQsIHJlbmRlckl0ZW0gfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdHtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdHtsaXN0SXRlbXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdD8gbGlzdEl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlzQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBpdGVtLmxhYmVsO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGlcblx0XHRcdFx0XHRcdFx0XHRcdFx0a2V5PXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hlY2tlZCA/ICdhY3RpdmUnIDogJydcblx0XHRcdFx0XHRcdFx0XHRcdFx0fWB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJvbGU9XCJyYWRpb1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8UmFkaW9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWJJbmRleD17aXNDaGVja2VkID8gJy0xJyA6ICcwJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlYWRPbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNob3c9e3RoaXMucHJvcHMuc2hvd1JhZGlvfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xhYmVsJykgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRodG1sRm9yPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtyZW5kZXJJdGVtID8gKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVuZGVySXRlbShpdGVtLmxhYmVsLCBpdGVtLmNvdW50LCBpc0NoZWNrZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3Nob3dDb3VudCAmJiBpdGVtLmNvdW50ICYmIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvcHMuaW5uZXJDbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnY291bnQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIHx8IG51bGxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCZuYnNwOyh7aXRlbS5jb3VudH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH0pIC8vIHByZXR0aWVyLWlnbm9yZVxuXHRcdFx0XHRcdFx0XHQ6IHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzICYmIHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzKCl9XG5cdFx0XHRcdFx0PC9TaW5nbGVEYXRhTGlzdFVMPlxuXHRcdFx0XHQpfVxuXHRcdFx0PC9Db250YWluZXI+XG5cdFx0KTtcblx0fVxufVxuXG5TaW5nbGVEYXRhTGlzdC5wcm9wVHlwZXMgPSB7XG5cdHNldFF1ZXJ5T3B0aW9uczogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXHR1cGRhdGVRdWVyeTogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdGVuYWJsZUFwcGJhc2U6IHR5cGVzLmJvb2wsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG59O1xuXG5TaW5nbGVEYXRhTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG5cdGNsYXNzTmFtZTogbnVsbCxcblx0cGxhY2Vob2xkZXI6ICdTZWFyY2gnLFxuXHRzaG93RmlsdGVyOiB0cnVlLFxuXHRzaG93UmFkaW86IHRydWUsXG5cdHNob3dTZWFyY2g6IHRydWUsXG5cdHN0eWxlOiB7fSxcblx0VVJMUGFyYW1zOiBmYWxzZSxcblx0c2hvd0NvdW50OiBmYWxzZSxcblx0ZW5hYmxlU3RyaWN0U2VsZWN0aW9uOiBmYWxzZSxcblx0ZGlzcGxheUFzVmVydGljYWw6IHRydWUsXG59O1xuXG4vLyBBZGQgY29tcG9uZW50VHlwZSBmb3IgU1NSXG5TaW5nbGVEYXRhTGlzdC5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZXMuc2luZ2xlRGF0YUxpc3Q7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgcHJvcHMpID0+ICh7XG5cdHJhd0RhdGE6IHN0YXRlLnJhd0RhdGFbcHJvcHMuY29tcG9uZW50SWRdLFxuXHRzZWxlY3RlZFZhbHVlOlxuXHRcdChzdGF0ZS5zZWxlY3RlZFZhbHVlc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdCYmIHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXS52YWx1ZSlcblx0XHR8fCBudWxsLFxuXHR0aGVtZVByZXNldDogc3RhdGUuY29uZmlnLnRoZW1lUHJlc2V0LFxuXHRvcHRpb25zOlxuXHRcdHByb3BzLm5lc3RlZEZpZWxkICYmIHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdD8gc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXS5yZWFjdGl2ZXNlYXJjaF9uZXN0ZWRcblx0XHRcdDogc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXSxcblx0ZW5hYmxlQXBwYmFzZTogc3RhdGUuY29uZmlnLmVuYWJsZUFwcGJhc2UsXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cblx0dXBkYXRlUXVlcnk6IHVwZGF0ZVF1ZXJ5T2JqZWN0ID0+IGRpc3BhdGNoKHVwZGF0ZVF1ZXJ5KHVwZGF0ZVF1ZXJ5T2JqZWN0KSksXG5cblx0c2V0UXVlcnlPcHRpb25zOiAoLi4uYXJncykgPT4gZGlzcGF0Y2goc2V0UXVlcnlPcHRpb25zKC4uLmFyZ3MpKSxcbn0pO1xuXG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0eygpID0+IDxDb25uZWN0ZWRDb21wb25lbnQgey4uLnByZWZlcmVuY2VQcm9wc30gbXlGb3J3YXJkZWRSZWY9e3JlZn0gLz59XG5cdFx0XHQ8L0NvbXBvbmVudFdyYXBwZXI+XG5cdFx0KX1cblx0PC9QcmVmZXJlbmNlc0NvbnN1bWVyPlxuKSk7XG5ob2lzdE5vblJlYWN0U3RhdGljcyhGb3J3YXJkUmVmQ29tcG9uZW50LCBTaW5nbGVEYXRhTGlzdCk7XG5cbkZvcndhcmRSZWZDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnU2luZ2xlRGF0YUxpc3QnO1xuZXhwb3J0IGRlZmF1bHQgRm9yd2FyZFJlZkNvbXBvbmVudDtcbiJdfQ== */',
	toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});
var Label = (0, _styledBase2.default)('label', {
	target: 'e3rkxte2',
	label: 'Label'
})(process.env.NODE_ENV === 'production' ? {
	name: 'b9kb3s',
	styles: '::before{width:16px !important;}margin:0.4rem !important;'
} : {
	name: 'b9kb3s',
	styles: '::before{width:16px !important;}margin:0.4rem !important;',
	map: '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOEMwQiIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuXG5jb25zdCBTaW5nbGVEYXRhTGlzdFVMID0gc3R5bGVkKFVMKWBcblx0ZGlzcGxheTogJHsoeyBkaXNwbGF5QXNWZXJ0aWNhbCB9KSA9PiAoZGlzcGxheUFzVmVydGljYWwgPyAnYmxvY2snIDogJ2ZsZXgnKX07XG5cdHdoaXRlLXNwYWNlOm5vd3JhcDtcbmA7XG5cbmNvbnN0IFNwYW4gPSBzdHlsZWQuc3BhbmBcblx0d2lkdGg6IGF1dG8gIWltcG9ydGFudDtcbmA7XG5jb25zdCBMYWJlbCA9IHN0eWxlZC5sYWJlbGBcblx0OjpiZWZvcmV7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRjb25zdCB7IGVuYWJsZUFwcGJhc2UsIGluZGV4IH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICghZW5hYmxlQXBwYmFzZSAmJiBpbmRleCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHQnV2FybmluZyhSZWFjdGl2ZVNlYXJjaCk6IEluIG9yZGVyIHRvIHVzZSB0aGUgYGluZGV4YCBwcm9wLCB0aGUgYGVuYWJsZUFwcGJhc2VgIHByb3AgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBpbiBgUmVhY3RpdmVCYXNlYC4nLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJ10sICgpID0+IHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93Q291bnQpIHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjaGVja1Byb3BDaGFuZ2UodGhpcy5wcm9wcy5kYXRhLCBwcmV2UHJvcHMuZGF0YSwgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucywgcHJldlByb3BzLm9wdGlvbnMsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdKSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGVPcHRpb25zKHRoaXMucHJvcHMub3B0aW9uc1t0aGlzLnByb3BzLmRhdGFGaWVsZF0uYnVja2V0cyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBUcmVhdCBkZWZhdWx0UXVlcnkgYW5kIGN1c3RvbVF1ZXJ5IGFzIHJlYWN0aXZlIHByb3BzXG5cdFx0aWYgKCFpc1F1ZXJ5SWRlbnRpY2FsKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzLCBwcmV2UHJvcHMsICdkZWZhdWx0UXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVEZWZhdWx0UXVlcnkoKTtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkoJycsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnY3VzdG9tUXVlcnknKSkge1xuXHRcdFx0dGhpcy51cGRhdGVRdWVyeSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucHJvcHMudmFsdWUgIT09IHByZXZQcm9wcy52YWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdFx0JiYgdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlICE9PSBwcmV2UHJvcHMuc2VsZWN0ZWRWYWx1ZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHRoaXMucHJvcHM7XG5cdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2UgaWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRcdG9uQ2hhbmdlKHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCAnJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFZhbHVlKHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgZGVmYXVsdFF1ZXJ5ID0gKHZhbHVlLCBwcm9wcykgPT4ge1xuXHRcdGxldCBxdWVyeSA9IG51bGw7XG5cdFx0aWYgKHByb3BzLnNlbGVjdEFsbExhYmVsICYmIHByb3BzLnNlbGVjdEFsbExhYmVsID09PSB2YWx1ZSkge1xuXHRcdFx0cXVlcnkgPSB7XG5cdFx0XHRcdGV4aXN0czoge1xuXHRcdFx0XHRcdGZpZWxkOiBwcm9wcy5kYXRhRmllbGQsXG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAodmFsdWUpIHtcblx0XHRcdHF1ZXJ5ID0ge1xuXHRcdFx0XHR0ZXJtOiB7XG5cdFx0XHRcdFx0W3Byb3BzLmRhdGFGaWVsZF06IHZhbHVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAocXVlcnkgJiYgcHJvcHMubmVzdGVkRmllbGQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5lc3RlZDoge1xuXHRcdFx0XHRcdHBhdGg6IHByb3BzLm5lc3RlZEZpZWxkLFxuXHRcdFx0XHRcdHF1ZXJ5LFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcXVlcnk7XG5cdH07XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH1cblx0XHRsZXQgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHQoeyBxdWVyeSB9ID0gY3VzdG9tUXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcykgfHwge30pO1xuXHRcdFx0Y3VzdG9tUXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShjdXN0b21RdWVyeShjdXJyZW50VmFsdWUsIHByb3BzKSk7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cdFx0XHRjb25zdCBuZXdPcHRpb25zID0gb3B0aW9ucy5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKGJ1Y2tldERpY3Rpb25hcnlbaXRlbS52YWx1ZV0pIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0Li4uaXRlbSxcblx0XHRcdFx0XHRcdGNvdW50OiBidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gaXRlbTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0b3B0aW9uczogbmV3T3B0aW9ucyxcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHRoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XG5cdFx0Y29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRzZWFyY2hUZXJtOiB2YWx1ZSxcblx0XHR9KTtcblx0fTtcblxuXHRyZW5kZXJTZWFyY2ggPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PElucHV0XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnaW5wdXQnKSB8fCBudWxsfVxuXHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlfVxuXHRcdFx0XHRcdHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFRlcm19XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdG1hcmdpbjogJzAgMCA4cHgnLFxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tc2VhcmNoYH1cblx0XHRcdFx0XHR0aGVtZVByZXNldD17dGhpcy5wcm9wcy50aGVtZVByZXNldH1cblx0XHRcdFx0Lz5cblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdGhhbmRsZUNsaWNrID0gKGUpID0+IHtcblx0XHRsZXQgY3VycmVudFZhbHVlID0gZTtcblx0XHRpZiAoaXNFdmVudChlKSkge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cdFx0fVxuXHRcdGNvbnN0IHsgZW5hYmxlU3RyaWN0U2VsZWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmIChlbmFibGVTdHJpY3RTZWxlY3Rpb24gJiYgY3VycmVudFZhbHVlID09PSB0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRjb25zdCB7IHZhbHVlLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob25DaGFuZ2UpIHtcblx0XHRcdG9uQ2hhbmdlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdGdldENvbXBvbmVudCgpIHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHRjb25zdCBkYXRhID0ge1xuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSxcblx0XHRcdGRhdGE6IHRoaXMubGlzdEl0ZW1zLFxuXHRcdFx0aGFuZGxlQ2hhbmdlOiB0aGlzLmhhbmRsZUNsaWNrLFxuXHRcdFx0cmF3RGF0YTogdGhpcy5wcm9wcy5yYXdEYXRhLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdldENvbXBvbmVudChkYXRhLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGdldCBoYXNDdXN0b21SZW5kZXJlcigpIHtcblx0XHRyZXR1cm4gaGFzQ3VzdG9tUmVuZGVyZXIodGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgbGlzdEl0ZW1zKCkge1xuXHRcdGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IG9wdGlvbnMuZmlsdGVyKChpdGVtKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoICYmIHRoaXMuc3RhdGUuc2VhcmNoVGVybSkge1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZURpYWNyaXRpY3MoaXRlbS5sYWJlbClcblx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHRcdC5pbmNsdWRlcyhyZXBsYWNlRGlhY3JpdGljcyh0aGlzLnN0YXRlLnNlYXJjaFRlcm0pLnRvTG93ZXJDYXNlKCkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGxpc3RJdGVtcztcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCB7IHNlbGVjdEFsbExhYmVsLCBzaG93Q291bnQsIHJlbmRlckl0ZW0gfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdHtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdHtsaXN0SXRlbXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdD8gbGlzdEl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlzQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBpdGVtLmxhYmVsO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGlcblx0XHRcdFx0XHRcdFx0XHRcdFx0a2V5PXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hlY2tlZCA/ICdhY3RpdmUnIDogJydcblx0XHRcdFx0XHRcdFx0XHRcdFx0fWB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJvbGU9XCJyYWRpb1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8UmFkaW9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWJJbmRleD17aXNDaGVja2VkID8gJy0xJyA6ICcwJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlYWRPbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17aXNDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNob3c9e3RoaXMucHJvcHMuc2hvd1JhZGlvfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xhYmVsJykgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRodG1sRm9yPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS0ke2l0ZW0ubGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtyZW5kZXJJdGVtID8gKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVuZGVySXRlbShpdGVtLmxhYmVsLCBpdGVtLmNvdW50LCBpc0NoZWNrZWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7aXRlbS5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3Nob3dDb3VudCAmJiBpdGVtLmNvdW50ICYmIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0Q2xhc3NOYW1lKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvcHMuaW5uZXJDbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnY291bnQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIHx8IG51bGxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCZuYnNwOyh7aXRlbS5jb3VudH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH0pIC8vIHByZXR0aWVyLWlnbm9yZVxuXHRcdFx0XHRcdFx0XHQ6IHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzICYmIHRoaXMucHJvcHMucmVuZGVyTm9SZXN1bHRzKCl9XG5cdFx0XHRcdFx0PC9TaW5nbGVEYXRhTGlzdFVMPlxuXHRcdFx0XHQpfVxuXHRcdFx0PC9Db250YWluZXI+XG5cdFx0KTtcblx0fVxufVxuXG5TaW5nbGVEYXRhTGlzdC5wcm9wVHlwZXMgPSB7XG5cdHNldFF1ZXJ5T3B0aW9uczogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXHR1cGRhdGVRdWVyeTogdHlwZXMuZnVuY1JlcXVpcmVkLFxuXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdGVuYWJsZUFwcGJhc2U6IHR5cGVzLmJvb2wsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG59O1xuXG5TaW5nbGVEYXRhTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG5cdGNsYXNzTmFtZTogbnVsbCxcblx0cGxhY2Vob2xkZXI6ICdTZWFyY2gnLFxuXHRzaG93RmlsdGVyOiB0cnVlLFxuXHRzaG93UmFkaW86IHRydWUsXG5cdHNob3dTZWFyY2g6IHRydWUsXG5cdHN0eWxlOiB7fSxcblx0VVJMUGFyYW1zOiBmYWxzZSxcblx0c2hvd0NvdW50OiBmYWxzZSxcblx0ZW5hYmxlU3RyaWN0U2VsZWN0aW9uOiBmYWxzZSxcblx0ZGlzcGxheUFzVmVydGljYWw6IHRydWUsXG59O1xuXG4vLyBBZGQgY29tcG9uZW50VHlwZSBmb3IgU1NSXG5TaW5nbGVEYXRhTGlzdC5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZXMuc2luZ2xlRGF0YUxpc3Q7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgcHJvcHMpID0+ICh7XG5cdHJhd0RhdGE6IHN0YXRlLnJhd0RhdGFbcHJvcHMuY29tcG9uZW50SWRdLFxuXHRzZWxlY3RlZFZhbHVlOlxuXHRcdChzdGF0ZS5zZWxlY3RlZFZhbHVlc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdCYmIHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXS52YWx1ZSlcblx0XHR8fCBudWxsLFxuXHR0aGVtZVByZXNldDogc3RhdGUuY29uZmlnLnRoZW1lUHJlc2V0LFxuXHRvcHRpb25zOlxuXHRcdHByb3BzLm5lc3RlZEZpZWxkICYmIHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF1cblx0XHRcdD8gc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXS5yZWFjdGl2ZXNlYXJjaF9uZXN0ZWRcblx0XHRcdDogc3RhdGUuYWdncmVnYXRpb25zW3Byb3BzLmNvbXBvbmVudElkXSxcblx0ZW5hYmxlQXBwYmFzZTogc3RhdGUuY29uZmlnLmVuYWJsZUFwcGJhc2UsXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cblx0dXBkYXRlUXVlcnk6IHVwZGF0ZVF1ZXJ5T2JqZWN0ID0+IGRpc3BhdGNoKHVwZGF0ZVF1ZXJ5KHVwZGF0ZVF1ZXJ5T2JqZWN0KSksXG5cblx0c2V0UXVlcnlPcHRpb25zOiAoLi4uYXJncykgPT4gZGlzcGF0Y2goc2V0UXVlcnlPcHRpb25zKC4uLmFyZ3MpKSxcbn0pO1xuXG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0eygpID0+IDxDb25uZWN0ZWRDb21wb25lbnQgey4uLnByZWZlcmVuY2VQcm9wc30gbXlGb3J3YXJkZWRSZWY9e3JlZn0gLz59XG5cdFx0XHQ8L0NvbXBvbmVudFdyYXBwZXI+XG5cdFx0KX1cblx0PC9QcmVmZXJlbmNlc0NvbnN1bWVyPlxuKSk7XG5ob2lzdE5vblJlYWN0U3RhdGljcyhGb3J3YXJkUmVmQ29tcG9uZW50LCBTaW5nbGVEYXRhTGlzdCk7XG5cbkZvcndhcmRSZWZDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnU2luZ2xlRGF0YUxpc3QnO1xuZXhwb3J0IGRlZmF1bHQgRm9yd2FyZFJlZkNvbXBvbmVudDtcbiJdfQ== */',
	toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});

var SingleDataList = function (_Component) {
	_inherits(SingleDataList, _Component);

	function SingleDataList(props) {
		_classCallCheck(this, SingleDataList);

		var _this = _possibleConstructorReturn(this, _Component.call(this, props));

		_initialiseProps.call(_this);

		var defaultValue = props.defaultValue || props.value;
		var currentValue = props.selectedValue || defaultValue || '';
		_this.state = {
			currentValue: currentValue,
			searchTerm: '',
			options: props.data || []
		};

		_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);

		// Set custom and default queries in store
		(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);
		(0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);
		var hasMounted = false;

		if (props.showCount) {
			_this.updateQueryOptions(props);
		}

		if (currentValue) {
			_this.setValue(currentValue, true, props, hasMounted);
		}
		return _this;
	}

	SingleDataList.prototype.componentDidMount = function componentDidMount() {
		var _props = this.props,
		    enableAppbase = _props.enableAppbase,
		    index = _props.index;

		if (!enableAppbase && index) {
			console.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');
		}
	};

	SingleDataList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {
		var _this2 = this;

		(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField'], function () {
			_this2.updateQuery(_this2.state.currentValue, _this2.props);

			if (_this2.props.showCount) {
				_this2.updateQueryOptions(_this2.props);
			}
		});

		(0, _helper.checkPropChange)(this.props.data, prevProps.data, function () {
			if (_this2.props.showCount) {
				_this2.updateQueryOptions(_this2.props);
			}
		});

		(0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {
			if (_this2.props.options[_this2.props.dataField]) {
				_this2.updateStateOptions(_this2.props.options[_this2.props.dataField].buckets);
			}
		});

		// Treat defaultQuery and customQuery as reactive props
		if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {
			this.updateDefaultQuery();
			this.updateQuery('', this.props);
		}

		if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {
			this.updateQuery(this.state.currentValue, this.props);
		}

		if (this.props.value !== prevProps.value) {
			this.setValue(this.props.value);
		} else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {
			var _props2 = this.props,
			    value = _props2.value,
			    onChange = _props2.onChange;

			if (value === undefined) {
				this.setValue(this.props.selectedValue || '');
			} else if (onChange) {
				onChange(this.props.selectedValue || '');
			} else {
				this.setValue(this.state.currentValue, true);
			}
		}
	};

	SingleDataList.generateQueryOptions = function generateQueryOptions(props, state) {
		var queryOptions = (0, _helper.getQueryOptions)(props);
		var includes = state.options.map(function (item) {
			return item.value;
		});
		return (0, _helper.getAggsQuery)(state.currentValue, queryOptions, props, includes);
	};

	SingleDataList.prototype.getComponent = function getComponent() {
		var currentValue = this.state.currentValue;

		var data = {
			value: currentValue,
			data: this.listItems,
			handleChange: this.handleClick,
			rawData: this.props.rawData
		};
		return (0, _helper.getComponent)(data, this.props);
	};

	SingleDataList.prototype.render = function render() {
		var _this3 = this;

		var _props3 = this.props,
		    selectAllLabel = _props3.selectAllLabel,
		    showCount = _props3.showCount,
		    renderItem = _props3.renderItem;
		var options = this.state.options;


		if (!this.hasCustomRenderer && options.length === 0) {
			return this.props.renderNoResults ? this.props.renderNoResults() : null;
		}

		var listItems = this.listItems;

		var isAllChecked = this.state.currentValue === selectAllLabel;
		return _react2.default.createElement(
			_Container2.default,
			{ style: this.props.style, className: this.props.className },
			this.props.title && _react2.default.createElement(
				_Title2.default,
				{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },
				this.props.title
			),
			this.renderSearch(),
			this.hasCustomRenderer ? this.getComponent() : _react2.default.createElement(
				SingleDataListUL,
				{
					className: (0, _helper.getClassName)(this.props.innerClass, 'list') || null,
					'aria-label': this.props.componentId + '-items',
					displayAsVertical: this.props.displayAsVertical,
					role: 'radiogroup'
				},
				selectAllLabel && _react2.default.createElement(
					'li',
					{
						key: selectAllLabel,
						className: '' + (isAllChecked ? 'active' : ''),
						role: 'radio',
						'aria-checked': isAllChecked
					},
					_react2.default.createElement(_FormControlList.Radio, {
						className: (0, _helper.getClassName)(this.props.innerClass, 'radio'),
						id: this.props.componentId + '-' + selectAllLabel,
						value: selectAllLabel,
						tabIndex: isAllChecked ? '-1' : '0',
						onChange: this.handleClick,
						checked: isAllChecked,
						show: this.props.showRadio
					}),
					_react2.default.createElement(
						Label,
						{
							className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null,
							htmlFor: this.props.componentId + '-' + selectAllLabel
						},
						selectAllLabel
					)
				),
				listItems.length ? listItems.map(function (item) {
					var isChecked = _this3.state.currentValue === item.label;
					return _react2.default.createElement(
						'li',
						{
							key: item.label,
							className: '' + (isChecked ? 'active' : ''),
							role: 'radio',
							'aria-checked': isChecked
						},
						_react2.default.createElement(_FormControlList.Radio, {
							className: (0, _helper.getClassName)(_this3.props.innerClass, 'radio'),
							id: _this3.props.componentId + '-' + item.label,
							tabIndex: isChecked ? '-1' : '0',
							value: item.label,
							onClick: _this3.handleClick,
							readOnly: true,
							checked: isChecked,
							show: _this3.props.showRadio
						}),
						_react2.default.createElement(
							Label,
							{
								className: (0, _helper.getClassName)(_this3.props.innerClass, 'label') || null,
								htmlFor: _this3.props.componentId + '-' + item.label
							},
							renderItem ? renderItem(item.label, item.count, isChecked) : _react2.default.createElement(
								Span,
								null,
								item.label,
								showCount && item.count && _react2.default.createElement(
									'span',
									{
										className: (0, _helper.getClassName)(_this3.props.innerClass, 'count') || null
									},
									'\xA0(',
									item.count,
									')'
								)
							)
						)
					);
				}) // prettier-ignore
				: this.props.renderNoResults && this.props.renderNoResults()
			)
		);
	};

	_createClass(SingleDataList, [{
		key: 'hasCustomRenderer',
		get: function get() {
			return (0, _helper.hasCustomRenderer)(this.props);
		}
	}, {
		key: 'listItems',
		get: function get() {
			var _this4 = this;

			var options = this.state.options;


			var listItems = options.filter(function (item) {
				if (_this4.props.showSearch && _this4.state.searchTerm) {
					return (0, _suggestions.replaceDiacritics)(item.label).toLowerCase().includes((0, _suggestions.replaceDiacritics)(_this4.state.searchTerm).toLowerCase());
				}
				return true;
			});
			return listItems;
		}
	}]);

	return SingleDataList;
}(_react.Component);

SingleDataList.defaultQuery = function (value, props) {
	var query = null;
	if (props.selectAllLabel && props.selectAllLabel === value) {
		query = {
			exists: {
				field: props.dataField
			}
		};
	} else if (value) {
		var _term;

		query = {
			term: (_term = {}, _term[props.dataField] = value, _term)
		};
	}

	if (query && props.nestedField) {
		return {
			nested: {
				path: props.nestedField,
				query: query
			}
		};
	}

	return query;
};

var _initialiseProps = function _initialiseProps() {
	var _this5 = this;

	this.setValue = function (nextValue) {
		var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
		var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this5.props;
		var hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

		var value = nextValue;

		if (isDefaultValue) {
			value = nextValue;
		} else if (nextValue === _this5.state.currentValue && hasMounted) {
			value = '';
		}

		var performUpdate = function performUpdate() {
			var handleUpdates = function handleUpdates() {
				_this5.updateQuery(value, props);
				if (props.onValueChange) props.onValueChange(value);
			};

			if (hasMounted) {
				_this5.setState({
					currentValue: value
				}, handleUpdates);
			} else {
				handleUpdates();
			}
		};

		(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);
	};

	this.updateDefaultQuery = function (queryOptions) {
		var currentValue = _this5.state.currentValue;
		// Update default query for RS API

		(0, _helper.updateDefaultQuery)(_this5.props.componentId, _this5.props, currentValue);
		(0, _helper.updateInternalQuery)(_this5.internalComponent, queryOptions, currentValue, _this5.props, SingleDataList.generateQueryOptions(_this5.props, _this5.state), null);
	};

	this.updateQuery = function (value, props) {
		var customQuery = props.customQuery;

		var customQueryOptions = void 0;

		var currentValue = value;
		if (value !== props.selectAllLabel) {
			currentValue = props.data.find(function (item) {
				return item.label === value;
			});
			currentValue = currentValue ? currentValue.value : null;
		}
		var query = SingleDataList.defaultQuery(currentValue, props);
		if (customQuery) {
			var _ref2 = customQuery(currentValue, props) || {};

			query = _ref2.query;

			customQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(currentValue, props));
			(0, _helper.updateCustomQuery)(props.componentId, props, value);
		}
		props.setQueryOptions(props.componentId, customQueryOptions, false);

		props.updateQuery({
			componentId: props.componentId,
			query: query,
			value: currentValue ? value : null,
			label: props.filterLabel,
			showFilter: props.showFilter,
			URLParams: props.URLParams,
			componentType: _constants.componentTypes.singleDataList
		});
	};

	this.updateQueryOptions = function (props) {
		var queryOptions = SingleDataList.generateQueryOptions(props, _this5.state);
		if (props.defaultQuery) {
			var value = _this5.state.currentValue;
			var defaultQueryOptions = (0, _helper.getOptionsFromQuery)(props.defaultQuery(value, props));
			props.setQueryOptions(_this5.internalComponent, _extends({}, queryOptions, defaultQueryOptions));
			(0, _helper.updateDefaultQuery)(props.componentId, props, value);
		} else {
			props.setQueryOptions(_this5.internalComponent, queryOptions);
		}
	};

	this.updateStateOptions = function (bucket) {
		if (bucket) {
			var bucketDictionary = bucket.reduce(function (obj, item) {
				var _extends2;

				return _extends({}, obj, (_extends2 = {}, _extends2[item.key] = item.doc_count, _extends2[item.key_as_string] = item.doc_count, _extends2));
			}, {});

			var options = _this5.state.options;

			var newOptions = options.map(function (item) {
				if (bucketDictionary[item.value]) {
					return _extends({}, item, {
						count: bucketDictionary[item.value]
					});
				}

				return item;
			});

			_this5.setState({
				options: newOptions
			});
		}
	};

	this.handleInputChange = function (e) {
		var value = e.target.value;

		_this5.setState({
			searchTerm: value
		});
	};

	this.renderSearch = function () {
		if (_this5.props.showSearch) {
			return _react2.default.createElement(_Input2.default, {
				className: (0, _helper.getClassName)(_this5.props.innerClass, 'input') || null,
				onChange: _this5.handleInputChange,
				value: _this5.state.searchTerm,
				placeholder: _this5.props.placeholder,
				style: {
					margin: '0 0 8px'
				},
				'aria-label': _this5.props.componentId + '-search',
				themePreset: _this5.props.themePreset
			});
		}
		return null;
	};

	this.handleClick = function (e) {
		var currentValue = e;
		if ((0, _utils.isEvent)(e)) {
			currentValue = e.target.value;
		}
		var enableStrictSelection = _this5.props.enableStrictSelection;

		if (enableStrictSelection && currentValue === _this5.state.currentValue) {
			return false;
		}
		var _props4 = _this5.props,
		    value = _props4.value,
		    onChange = _props4.onChange;

		if (value === undefined) {
			_this5.setValue(currentValue);
		} else if (onChange) {
			onChange(currentValue);
		}
		return true;
	};
};

SingleDataList.propTypes = {
	setQueryOptions: _types2.default.funcRequired,
	updateQuery: _types2.default.funcRequired,

	selectedValue: _types2.default.selectedValue,
	options: _types2.default.options,
	rawData: _types2.default.rawData,
	setCustomQuery: _types2.default.funcRequired,
	enableAppbase: _types2.default.bool,
	// component props
	beforeValueChange: _types2.default.func,
	children: _types2.default.func,
	className: _types2.default.string,
	componentId: _types2.default.stringRequired,
	customQuery: _types2.default.func,
	data: _types2.default.data,
	dataField: _types2.default.stringRequired,
	defaultValue: _types2.default.string,
	value: _types2.default.string,
	filterLabel: _types2.default.string,
	innerClass: _types2.default.style,
	onQueryChange: _types2.default.func,
	onValueChange: _types2.default.func,
	onChange: _types2.default.func,
	placeholder: _types2.default.string,
	nestedField: _types2.default.string,
	react: _types2.default.react,
	selectAllLabel: _types2.default.string,
	showFilter: _types2.default.bool,
	showRadio: _types2.default.boolRequired,
	showSearch: _types2.default.bool,
	style: _types2.default.style,
	themePreset: _types2.default.themePreset,
	title: _types2.default.title,
	URLParams: _types2.default.bool,
	showCount: _types2.default.bool,
	render: _types2.default.func,
	renderItem: _types2.default.func,
	renderNoResults: _types2.default.func,
	index: _types2.default.string,
	enableStrictSelection: _types2.default.bool,
	displayAsVertical: _types2.default.bool
};

SingleDataList.defaultProps = {
	className: null,
	placeholder: 'Search',
	showFilter: true,
	showRadio: true,
	showSearch: true,
	style: {},
	URLParams: false,
	showCount: false,
	enableStrictSelection: false,
	displayAsVertical: true
};

// Add componentType for SSR
SingleDataList.componentType = _constants.componentTypes.singleDataList;

var mapStateToProps = function mapStateToProps(state, props) {
	return {
		rawData: state.rawData[props.componentId],
		selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,
		themePreset: state.config.themePreset,
		options: props.nestedField && state.aggregations[props.componentId] ? state.aggregations[props.componentId].reactivesearch_nested : state.aggregations[props.componentId],
		enableAppbase: state.config.enableAppbase
	};
};

var mapDispatchtoProps = function mapDispatchtoProps(dispatch) {
	return {
		setCustomQuery: function setCustomQuery(component, query) {
			return dispatch((0, _actions.setCustomQuery)(component, query));
		},
		setDefaultQuery: function setDefaultQuery(component, query) {
			return dispatch((0, _actions.setDefaultQuery)(component, query));
		},

		updateQuery: function updateQuery(updateQueryObject) {
			return dispatch((0, _actions.updateQuery)(updateQueryObject));
		},

		setQueryOptions: function setQueryOptions() {
			return dispatch(_actions.setQueryOptions.apply(undefined, arguments));
		}
	};
};

var ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {
	return _react2.default.createElement(SingleDataList, _extends({ ref: props.myForwardedRef }, props));
});

// eslint-disable-next-line
var ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {
	return _react2.default.createElement(
		_PreferencesConsumer2.default,
		{ userProps: props },
		function (preferenceProps) {
			return _react2.default.createElement(
				_ComponentWrapper2.default,
				_extends({}, preferenceProps, {
					internalComponent: true,
					componentType: _constants.componentTypes.singleDataList
				}),
				function () {
					return _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, { myForwardedRef: ref }));
				}
			);
		}
	);
});
(0, _hoistNonReactStatics2.default)(ForwardRefComponent, SingleDataList);

ForwardRefComponent.displayName = 'SingleDataList';
exports.default = ForwardRefComponent;